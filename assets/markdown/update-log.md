## 完整更新日志
> ### 6.1.6
> 修复每日投币失效的Bug。
> ### 6.1.5
> 1.修复屏蔽大乱斗弹窗和进度条功能失效的Bug。
> ### 6.1.4
> 1.修复因为获取账号信息失败导致脚本无法运行的问题。
> ### 6.1.3
> 1.适配B站更新：使用新版API，修复脚本一直报错"API.x.getAccinfo获取账号信息失败 状态码200"以及出现多个控制按钮/面板的问题。2.调整了部分运行逻辑，在加载阶段如果脚本发生致命错误将直接停止运行而不是无限重试。
> ### 6.1.2
> 1.【自动切换最高清晰度】出于性能和兼容性考虑改为选择原画。
> ### 6.1.1
> 1.把获取依赖的cdn从gcore.jsdelivr.net改为fastly.jsdelivr.net。
> ### 6.1.0
> 1.【直播观看体验】增加自动切换最高清晰度设置，默认不勾选。
> ### 6.0.9
> 1.【APP用户任务】发现token不可用时，自动重新获取token。如果账号不支持该任务，不执行。
> ### 6.0.8
> 1.适配B站改动，修复点赞功能。
> ### 6.0.7
>
> 1.【APP 用户任务】改为默认不开启。2.新增了一些脚本内置说明。
>
> ### 6.0.6
>
> 1.【直播观看体验】中新增【移除小橙车相关内容】。2.暂时取消需要服务器的功能。3.新增【APP 用户任务】功能，目前该功能支持自动完成发五条弹幕领一电池的 APP 任务。
>
> ### 6.0.5
>
> 1.【直播观看体验】中的【屏蔽关注按钮和弹窗】改为【屏蔽右侧边栏】。2.修复【隐身入场】和【拦截直播观看数据上报】会导致特殊直播间直播画面不显示的 bug。3.修复非东八区【自动送礼】礼物到期时间计算不正确的 bug。
>
> ### 6.0.3 - 6.0.4
>
> 1.修复【自动送礼】无法送出当天过期的礼物的 Bug。2.修复直播区任务执行方式中黑白名单显示不正确的 Bug（仅针对新用户）。3.修复【隐身入场】失效的 Bug。4.修复【自动投币】失效的 Bug。
>
> ### 6.0.1 - 6.0.2
>
> 1.修复【检查弹幕是否发送成功】和【弹幕修改】不生效的 Bug。2.【直播区任务】中的粉丝勋章相关任务（点赞直播间，连续观看直播，粉丝勋章打卡弹幕）统一采用黑白名单机制。3.自动保存设置：在控制面板上的文本框中输入内容后脚本会自动保存设置。4.减缓了【自动投币】的速度，降低被风控的可能。
>
> ### 6.0
>
> 1.删除所有和抽奖有关的功能。
>
> ### 5.8.5
>
> 1.适配新版粉丝勋章亲密度规则。2.购买粉丝勋章改为充电 2B 币。3.修复【添加点赞按钮】设置失效的 Bug。
>
> ### 5.8.4
>
> 1.【添加点赞按钮】找不到所需页面元素时不添加按钮。2.自动领取大会员权益功能改为默认关闭。3.修复在特殊直播间（如https://live.bilibili.com/6等）脚本无法正常加载的Bug。
>
> ### 5.8.3
>
> 1.新功能：直播观看体验 - 添加点赞按钮。该按钮位于直播画面上方，分享按钮左侧，点击后可以给直播间点赞。2.修复开启某些功能后无法发送弹幕的 Bug。3.修复【实物抽奖】无法参与抽奖的 Bug。
>
> ### 5.8.2
>
> 1.解决了开启【拦截直播流】或者【拦截直播观看数据上报】后 B 站 js 反复重试导致控制台出现大量 B 站 js 报错的问题，减少资源消耗。2.修复【红包抽奖】在重连 B 站直播弹幕 WebSocket 时会报错的 Bug。3.调整了【每日任务设置】的 UI。4.【每日任务设置】中每一项任务现在都拥有独立的缓存，勾选新的任务后刷新页面即可生效，也避免的重复运行的问题。5.【每日任务设置】增加了各个任务板块的重置缓存功能。6.更好地适配 B 站深色模式。7.减少右上角提示信息的数量。8.修复【天选时刻】【红包抽奖】从链接中提取房间号出错导致部分功能失效的 Bug。
>
> ### 5.8.1
>
> 1.库文件 cdn 换源，解决部分用户无法加载依赖的问题。2.【购买粉丝勋章】优化，脚本在充电前会检查该直播间是否有粉丝勋章。3.库文件 bliveproxy 升级，修复【弹幕修改】的一些问题。4.重写了 B 站弹幕库 DanmuWebSocket，连接其他直播间的弹幕 WebSocket 时可以获得更全面的信息。5.新功能：检查弹幕是否发送失败、感谢 XiaoMiku01 提供的帮助。6.修复【手动发弹幕前自动佩戴当前房间勋章】无法正确显示勋章样式的问题。7.新功能：自动完成点赞、分享直播间，观看 30 分钟直播的任务。8.优化每日任务和直播间任务的缓存逻辑，因页面关闭中断后能在下次打开页面时再次运行。9.修复 awpush 无法正常重连的 Bug；修复 awpush 会在 CONNECTING 状态发送消息导致报错的 Bug。10.BLTH-server 完善了红包抽奖帮助文档。
>
> ### 5.8
>
> 1.修复获取部分粉丝勋章的小心心出错的 Bug，跳过无法获取小心心的粉丝勋章。2.优化自动送礼出错时的错误处理。3.【红包抽奖】新增从已关注的开播直播间获取红包抽奖数据。4.【awpush】awpush 已支持红包抽奖。5.检索天选时刻或红包抽奖时能获取到另一种抽奖的数据并参加。6.优化了同时参与天选时刻和红包抽奖时容易风控的问题，采用新的抽奖数据检索策略，请点击【参与天选时刻抽奖】和【参与直播红包抽奖】后的小问号查看新的策略并调整您的脚本设置。7.目前脚本中有不少功能是冗余的，从下个版本开始会逐步删除一些没用的功能来精简脚本。
>
> ### 5.7.9.7
>
> 1.【红包抽奖】修复抽奖前随机等待一段时间导致抽奖超时的 bug。2.【红包抽奖】修复奖品总价值判断不正确的 bug。
>
> ### 5.7.9.6
>
> 1.【天选时刻】【检测到有 1 级粉丝牌要求的天选后自动购买勋章再参加】新增通过赠送包裹中的 B 坷垃来获取勋章的方式。2.修复了购买粉丝勋章失败时无错误提示的 Bug。3.新功能【直播红包抽奖】。4.【实物抽奖】修复（由于没有进行中的实物抽奖，只测试了检索抽奖的部分，抽奖和中奖检测部分可能仍无法正常工作）；增加了从云端自动获取最后一个有效 aid 的功能；增加了一个内置的请求间隔。5.【BLTH-server】：性能优化；限制了 seconds 每天能加的好友数量并且以后在添加好友时需要输入正确的验证信息（详见小问号内容）。目前 seconds 不接受好友申请，之后会开放好友添加。
>
> ### 5.7.9.5
>
> 1.修复无法获取粉丝勋章列表的 bug（感谢一心向晚提供的帮助）。2.调整了【移除排行榜】功能。
>
> ### 5.7.9.4
>
> 1.修复包裹为空时无法正确获取小心心的 bug，获取失败时显示错误提示。2.修复转盘抽奖失效的 bug。
>
> ### 5.7.9.3
>
> 1.新增自动领取大会员权益的功能。2.优化了小心心获取失败时的回显。
>
> ### 5.7.9.2
>
> 1.修复小心心模块在打开多个页面时重复运行的 bug。2.小心心未完全获取时立刻再次尝试获取。3.再次尝试获取时跳过之前获取失败的直播间。
>
> ### 5.7.9.1
>
> 1.修复小心心送礼计数异常的 bug。2.等级大于 20 的粉丝勋章也会进行打卡。
>
> ### 5.7.9
>
> 1.修复屏蔽挂机检测失效的问题。2.尝试修复打开【手动发弹幕前自动佩戴当前房间勋章】功能后无法正常加载直播流的 bug。3.修复粉丝勋章无法正常获取的 bug。4.删除了节奏风暴模块。5.修复部分用户无法获取小心心的问题，改变了获取小心心的方式，无需重置 token，删除相关按钮和代码。6.优化了脚本更新的方式，更新时不再打开一个新标签页。
>
> ### 5.7.8.6
>
> 1.新增隐藏/显示控制面版的快捷键（alt + b）。
>
> ### 5.7.8.5
>
> 1.修复【银瓜子换硬币】回显不正确的 bug。2.调整了【显示/隐藏控制面板】按钮的位置。3.更新部分设置项的小问号内容。4.优化了【粉丝勋章打卡弹幕】的回显。5.更新了预约抽奖数据的链接。6。内容屏蔽中的【移除活动入口】调整为【移除大乱斗入口】。
>
> ### 5.7.8.4
>
> 1.尝试修复【显示/隐藏控制面板】按钮不显示的问题。2.【实物抽奖】增大重试间隔。3.预约抽奖新增忽略关键字，支持从云端添加。4.优化小心心上限检测逻辑。5.控制台日志中不再输出 token 的值。
>
> ### 5.7.8.3
>
> 1.更新脚本内置说明。
>
> ### 5.7.8.2
>
> 1.修复用小心心点亮勋章时会报错的 bug。
>
> ### 5.7.8.1
>
> 1.修复部分情况下点亮勋章出错的 bug。2.改为从 fastgit 检查脚本更新。
>
> ### 5.7.8
>
> 1.新增直播预约抽奖。
>
> ### 5.7.7
>
> 1.深色模式适配优化。2.修复购买勋章因 B 币不足而失败时回显不正确的 bug。3.删除了大乱斗抽奖。4.新增转盘抽奖。
>
> ### 5.7.6
>
> 1.深色模式适配优化，观感更舒适。2.添加了【移除排行榜】的小问号内容。
>
> ### 5.7.5
>
> 1.适配 B 站深色模式。2.UI 界面优化。3.实物抽奖支持从云端添加关键字。4.修复风控后休息时间不正确的 bug。5.修复无法取关 BLTH 分组内 UP 的 bug。6.awpush: 提高了获取 apikey 的门槛。
>
> ### 5.7.4
>
> 1.修复天选时刻【忽略粉丝数小于\_\_的 UP 的天选】功能在部分情况下失效的问题，并重构优化了过滤方式。2.新增部分日志的快捷操作（可点击的蓝色链接文字）。3.新增一种检查天选的 API，一个 API 被风控后会自动切换下一个。
>
> ### 5.7.3.4
>
> 1.修复使用 awpush 时参加部分天选报错的问题。2.限制了 qq 推送测试消息的发送频率。
>
> ### 5.7.3.3
>
> 1.修复了 awpush 相关 bug。
>
> ### 5.7.3.2
>
> 1.加强了实物抽奖的关键字过滤，如果抽奖规则含有关键字该抽奖也会被忽略。2.通过 BLTH-server 检查新版本并更新（之前使用的是 fastgit，有较大延迟）。3.用私有化 qq 推送取代酷推。
>
> ### 5.7.3.1
>
> 1.修复推送无效的 Bug。2.修复自动买一级牌子导致卡死的 Bug。3.修复已关注用户无人开播引起的相关 Bug。
>
> ### 5.7.3
>
> 1.天选时刻不再检查小时榜。2.提高了天选时刻各分区检索的热门房间数量。3.天选时刻新增【忽略指定分区功能】。4.解决了上传天选数据至个人简介会提示违规的问题。
>
> ### 5.7.2 - 5.7.2.2
>
> 1.修复【不抽奖时段不刷新直播间】设置不生效的 bug。2.优化消息推送。3.awpush 任务分配优化（服务端的代码会过几天再更新，等一定数量的用户更新至新版本后再采用新的分配逻辑）。4.awpush 采用更严格的心跳逻辑。5.适配 B 站货币升级，把金瓜子改为电池（1 电池=100 金瓜子，请手动修改相关设置项的值）。6.适配 B 站 api 升级，修改了兑换硬币和银瓜子的 api。7.适配 B 站 api 升级，修复【从已关注正在直播的直播间获取天选时刻数据】开启后报错的 bug。
>
> ### 5.7.1
>
> 1.修复天选时刻自定义直播间列表无法保存的 bug。2.修复天选时刻【忽略粉丝数小于\_\_的天选】部分情况下无效的 bug。3.修复天选时刻勾选忽略直播间后有可能会报错的 bug。4.修复天选时刻添加云端忽略直播间后计数不变的 bug。5.【屏蔽挂机检测】缩短了模拟鼠标活动的间隔。
>
> ### 5.7
>
> 1.尝试修复在非东八区地区运行每日任务时间不正确的 bug。2.修复进入再退出网页全屏后脚本控制面板未正确隐藏, 仍能进行交互的 bug。3.天选时刻新增 awpush（测试中）。4.修复部分情况下无法推送天选中奖信息的 bug。5.部分任务运行流程优化。6.新功能：检测到有 1 级粉丝牌要求的天选后自动购买勋章再参加。6.天选时刻检测机制优化。7.新增推送测试功能。
>
> ### 5.6.9.2
>
> 1.修复控制面板不显示的 bug。2.天选时刻 apikey 编辑界面样式调整。3.支持天选时刻白名单的导入和导出。
>
> ### 5.6.9.1
>
> 1.小心心 token 支持多账号保存（旧版本升至新版本时 token 会被重置），并添加了重置 token 按钮。2.天选时刻 apikey 支持多账号保存（旧版本升至新版本时 apikey 可能会错位，出现该情况时请再填写一次）。3.尝试修复在网速很慢时脚本加载失败的问题。4.更新 bliveproxy，兼容 B 站 websocket 协议升级，修复【弹幕修改】功能无效的问题。
>
> ### 5.6.9
>
> 1.重构了 BAPI 中的 ajax 请求，现在请求出错时能返回错误原因。2.修复刷新直播间不生效的 bug。3.天选时刻模块新增 BLTH-server 相关功能（测试中）。
>
> ### 5.6.8
>
> 1.修复天选时刻从已关注且正在直播的直播间获取天选时刻数据时若获取到的直播间号为短号则无法正确检测到天选的 bug。2.修复拦截直播流在部分情况下失效的 bug。3.新增【手动发弹幕前自动佩戴当前房间勋章】功能。
>
> ### 5.6.7.6
>
> 1.修复天选时刻休眠后有概率无法醒来的 bug。2.优化了脚本对新的一天的判断方式。3.优化了部分脚本内置说明的显示方式。4.使用新的重复运行检测方式，兼容暴力猴。
>
> ### 5.6.7.4 - 5.6.7.5
>
> 1.天选时刻不再将收集到的房间号储存到本地。2.修复部分情况下了脚本无法运行的 bug。3.弃用 Server 酱旧版推送方式，新增推送加（pushplus）推送。4.修复部分设置项无法被正确保存以及导入配置时某些设置项无法被正确合并的 bug。5.修复部分情况下 layer 库报错导致脚本无法运行的 bug。6.优化了唯一运行检测的方式。7.完善了【拦截直播观看数据上报】功能，新增 xhr 拦截规则。8.优化了重复运行检测。当检测到有其他直播间页面的挂机助手正在运行时禁用会导致冲突的功能。9.修复天选时刻金额识别功能在部分情况下丢失精度的问题，改为保留两位小数。10.优化了获取粉丝勋章数据/检查更新失败时的错误处理。11.增加浏览器版本判断。12.优化金额识别算法，支持识别前置关键词（如红包 1.66）。13.使用最新版的 layer 弹层模块。14.获取基础数据时新增弹窗提示。15.findVal 新增异常捕获，相关功能运行出错时不会卡死。
>
> ### 5.6.7.3
>
> 1.内容屏蔽中新增【移除直播水印】【拦截直播流】【拦截直播观看数据上报】。2.修复部分用户开启【从已关注且正在直播的直播间获取天选时刻数据】后报错并卡死的 bug。3.微调了一些需要每天定时运行的任务的运行时间。4.修复开启【忽略直播间】后无法正确显示相关日志的 bug。5.修复检查更新失败时报错的问题。6.白名单内 UP 不再被移入 BLTH 天选关注/中奖 UP 分组。
>
> ### 5.6.7.2
>
> 1.优化点亮勋章失败后的处理逻辑。2.修复自动送礼失败的 bug。3.pako.js 换源至 jsdelivr，防止有用户连不上 cloudflare。4.notice.json 改为通过 fastgit 获取。5.修复关闭天选时刻忽略关键字弹窗时使用了未定义的 index 的问题。
>
> ### 5.6.7.1
>
> 1.修复天选时刻关键字失效的 bug。
>
> ### 5.6.7
>
> 1.修复部分粉丝牌无对应直播间导致送礼/打卡弹幕/获取小心心出错的 bug。2.修复 b 站直播间更新导致的全屏后脚本控制面板不隐藏/日志窗口位置不变化的 bug。3.部分设置支持填写 JavaScript 正则表达式。4.优化了载入配置/缓存的效率。5.弹幕设置里新增【弹幕修改】功能。
>
> ### 5.6.6.6
>
> 1.使用多种 API 来获取房间号对应 uid，降低被风控的可能性。2.修复获取关注分组信息时卡死的 bug。
>
> ### 5.6.6.5
>
> 1.修复天选时刻运行一段时间后卡死的 bug。2.修复天选时刻【忽略粉丝数小于\_\_的 UP 的天选】不能为 0 的 bug。
>
> ### 5.6.6.4
>
> 1.修复休眠结束后可能会再次休眠的 bug。2.修复导入旧配置文件时可能会出错的 bug。3.改为使用脚本管理器提供的 GM 函数来储存数据，并转移了所有的旧数据。以下设置项可能无法成功转移：【隐身入场】，【屏蔽挂机检测】，【提示信息】，【控制台日志】，是否显示控制面板和 eula。4.修复了粉丝勋章数据在跨日后不更新的 bug。5.天选时刻【保存当前关注列表为白名单】改为获取所有关注的 UP 而不是仅在默认分组内的 UP。6.提高了部分情况下获取关注列表的效率。7.更换了库文件 jQuery 的 cdn。8.修复了 BLTH 天选中奖 UP 分组里的 up 被移动到 BLTH 天选关注 UP 分组及本来就在 BLTH 天选关注/中奖 UP 分组里的 UP 被重复移动的 bug。9.天选时刻新增【忽略粉丝数小于\_\_的 UP 的天选】。
>
> ### 5.6.6.3
>
> 1.优化了天选时刻的直播间号收集机制。2.修复自动送礼在完成一轮送礼后无法进行下一轮送礼的 bug。3.自动送礼细节改进。4.不给 20 或 40 级粉丝牌的应援团签到。5.优化天选时刻的休眠机制，避免在休眠前额外检查一轮。6.修复了【自动发弹幕】弹幕缓存不正确的 bug（建议点击一下清除弹幕缓存）。7.修复 EULA 中的一个错误链接。8.天选时刻：特别关心分组里的 up 不再会被取关，同时优化了分组内 UP 获取方式。9.内容屏蔽新增【屏蔽天选时刻弹窗及图标】，【屏蔽大乱斗弹窗及进度条】，【禁止 p2p 上传】。10.重写了特殊配置的读取方式和版本号比较方式，提高效率。
>
> ### 5.6.6.2
>
> 1.优化了获取粉丝勋章列表的方式，不再重复获取。2.修复了当脚本设置中有特殊字符时无法正确导出配置文件的 bug。3.优化了【上传天选数据至直播间个人简介】的功能，使上传的数据不可见，支持上传想要被显示的内容。同时优化了天选数据的编码方式，上传和获取数据会更快。上传出错时的错误处理更加合理。
>
> ### 5.6.6.1
>
> 1.修复自动送礼送礼模式只能为黑名单的 bug。
>
> ### 5.6.6
>
> 1.修复自动刷新页面在部分情况下失效的 bug。2.【重置所有为默认】按钮点击后增加确认页面。3.取消了部分编辑框的最大字数限制。4.一键添加天选云端屏蔽词。5.修正了代码里的拼写错误。6.部分实时性要求不高的 API（如天选移动分组）将在随机延时后被调用，降低风控可能。7.支持多次参加付费天选。8.自动送礼新增黑白名单送礼策略。
>
> ### 5.6.5.7
>
> 1.修复自动送礼礼物到期时间判断不正确的 bug。2.修复点亮勋章出错的 bug。3.修复【点亮勋章时忽略亲密度上限】设置无法保存的 bug。4.优化了小心心 - 自动点亮勋章，优先送出包裹内快过期的小心心来点亮勋章。
>
> ### 5.6.5.6
>
> 1.修复在某些情况下控制面板无法正确开关的 bug。2.修复天选时刻白名单无法保存的 bug。3.修复检查更新相关 bug。
>
> ### 5.6.5.5
>
> 1.自动送礼和点亮勋章重构：优化礼物排序算法，亲密度高的礼物将被优先送出，更容易达到粉丝勋章的每日亲密度上限；在满足前一个条件的基础上优先送出更早过期的礼物；减少 API 调用次数。2.【粉丝勋章打卡弹幕】不再给 20 级以上的勋章打卡（因为不加亲密度）。3.每天首次运行脚本时会检测是否有新版本。
>
> ### 5.6.5.4
>
> 1.修复在 Safari 中无法运行的 bug，并开始兼容 Safari。2.调整了脚本默认设置，增大了天选时刻-请求间隔。3.完善脚本内置说明及项目文档。4.在非东八区地区使用脚本时，会根据国内时间来执行每日任务。
>
> ### 5.6.5.3
>
> 1.修复【通过 Server 酱·Turbo 版推送微信通知】选项无法勾选的 bug。2.尝试修复屏蔽挂机检测无效的问题。
>
> ### 5.6.5.2
>
> 1.减少了天选时刻某个 API 的请求频率，降低被风控概率。2.修复了天选时刻房间号记录不正确导致检查天选时有重复的 bug。3.修复在有背景直播间无法观看直播的 bug；修复切换清晰度时直播卡死的 bug。4.新增中奖消息推送方式：酷推和 Server 酱 Turbo 版。5.Css 浏览器兼容，不使用 margin-inline。6.天选时刻金额识别支持繁体数字。7.能填写多个数据的设置项在保存时会自动去重（部分特殊设置除外）。8.天选时刻新增数据获取方式：从自定义直播间列表获取天选时刻数据，即用户手动填写要检查的直播间。9.天选时刻新增设置：不使用缓存中的直播间。
>
> ### 5.6.5
>
> 1.取关 BLTH 关注分组内 up 时不再取关白名单内 up。2.修复控制面板隐藏后依然碰不到音量按钮的 bug。3.部分重构（主要是天选时刻部分）。4.修复在带有 iframe 的直播间运行脚本时重复运行检测出错的 bug。5.如果开启控制台日志，右上角提示信息内容会输出在控制台中。6.天选时刻支持多种数据获取方式并存，并新增一种方式【从已关注且正在直播的直播间获取天选时刻数据 】。
>
> ### 5.6.4.7
>
> 1.修复打卡弹幕出错时卡死的 bug。2.修正部分内置说明的文字表述。3.修复无法上传天选时刻附加信息的 bug。若获取到的天选时刻附加信息带有 script 标签则舍弃。4.修复金额识别无法识别单个“两”的 bug。
>
> ### 5.6.4.6
>
> 1.修复多选框设置显示错误的 bug。2.自适应时区，修复非东八区地区任务执行时间不正确的 bug。3.完善内置说明。4.修复隐藏控制面板时提示信息也会隐藏的 bug。5.修复给部分短号直播间(1001-10000)发弹幕无效的 bug。
>
> ### 5.6.4.5
>
> 1.延长点击购买勋章并参加按钮后，购买与参加之间的间隔时间。2.点击购买勋章并参加按钮后增加天选是否已结束的判断。3.样式优化。4.运行效率优化。5.控制台日志美化。6.新功能：每日任务 - 硬币换银瓜子。7.修复自动送礼不按时运行的 bug。8.修复天选时刻附加信息在点击【保存所有设置】后变为 undefined 的 bug。9.添加隐藏/显示提示信息选项。10.出于性能和其它原因，控制面板和日志窗口不再在浏览器窗口拉伸时保持相对位置不变。11.优化任务加载方式和错误修复机制。12.自动送礼新设置项：允许被送出的礼物类型。可指定想要送出的礼物类型，支持识别礼物名或礼物 id。13.方糖推送改用 http。原因见官博https://weibo.com/1088413295/JDqyatOic。14.重新加入赠送小心心点亮勋章的功能。
>
> ### 5.6.4.4
>
> 1.修复播放器进入全屏/退出全屏时产生的一些小问题。2.修复点击【取关该分组内的 UP 主】后出错的 bug。3.修复定时休眠的 bug。
>
> ### 5.6.4.3
>
> 1.修复在`从直播间获取天选数据`模式下休眠后无法唤醒的 bug。2.修复点击保存后无法保存且关闭面板再打开不显示数据的 bug。3.修复自动发弹幕的 bug。4.一些细微调整，如脚本加载时间改为在 DOM 树加载完成时。
>
> ### 5.6.4.2
>
> 1.更新一个新 q 群 2.调整脚本头部元数据位置
>
> ### 5.6.4.1
>
> 1.优化脚本控制面板的样式 2.修复部分情况下脚本无法加载的 bug
>
> ### 5.6.4
>
> 1.扩充天选时刻默认忽略关键字 2.天选时刻金额识别优化 3.天选时刻新增忽略直播间功能 4.修复天选时刻休眠无效的 bug 5.内容屏蔽新增两项 6.右侧关注和弹窗，下方广告 7.新增更新提示开关 8.新增打卡弹幕发送间隔设置 9.新增天选时刻附加信息 10.窗口大小改变时脚本窗口位置会随之改变，并保持相对位置不变 11.天选时刻数据推送新增额外信息 12.天选时刻检查到缺少粉丝牌的天选时可快捷购买并参加 13.样式上的一些小改进 14.新增 eula 15.部分重构，减少不必要的请求，完善错误处理，运行效率和代码格式优化 16.新增忽略非现金抽奖的天选 17.改为通过 GM 函数获取所需资源。
>
> ### 5.6.3.3
>
> 修复无法参加天选的 bug；修复配置导入无效的 bug。
>
> ### 5.6.3.2
>
> 【粉丝勋章打卡弹幕】弹幕选取逻辑调整；bug fix。
>
> ### 5.6.3 - 5.6.3.1
>
> 新增两种能识别的天选时刻种类；直播画面全屏后自动关闭面板；修复移动分组等网络请求被风控使脚本停止运行的问题；新增控制台日志选项；若启用需创分组的功能则不创建；新选项：不参与加密直播间的天选；优化了请求失败后再次尝试发起请求的逻辑。
>
> ### 5.6.2
>
> 修复获取小心心功能。修复重复参加 pk 大乱斗的 bug。移除 HackTimer 库。
>
> ### 5.6 - 5.6.1
>
> 补充内置说明；解决了浏览器标签页后台时计时器变慢的问题；新增天选时刻开奖倒计时和【立刻参加】按钮；修复了隐身入场无效的 bug；新增打卡弹幕黑白名单功能；新增导入和导出脚本配置的功能；新增定时休眠功能（仅对天选和检查小时榜生效）；新增天选时刻中奖弹幕功能；默认关闭控制台日志；【天选时刻】上传至直播间简介的数据格式调整；【天选时刻】中奖后把发起抽奖的 UP 移到新分组；bug fix。
>
> ### 5.5.2
>
> 补全了内置说明；【天选时刻】【忽略金额小于\_\_元的天选】优化，识别以十开头的中文数字时不再出错；修复开启【隐身入场】会导致脚本无法加载的 bug，并做了兼容性处理防止以后有类似情况发生；细节上的改进，修改了部分样式，动画和文字表述。
>
> ### 5.5.1
>
> 【天选时刻】【忽略金额小于\_\_元的天选】重构升级，能够识别更多种类的奖品名。修复忽略关键字数量，参与抽奖次数显示不正确的 bug。
>
> ### 5.5
>
> 【屏蔽挂机检测】优化，每隔一段时间触发一次鼠标移动事件。【天选时刻】【忽略金额小于\_\_元的天选】优化，支持识别汉字数字，提高识别率。修复方糖 SCKEY 在保存设置后消失的 bug；当浏览器窗口有横向滚动条时脚本控制面板和日志窗口不再错位；新功能：粉丝勋章打卡弹幕；今日统计改为统计天选和实物抽奖参与次数。
>
> ### 5.4 - 5.4.1
>
> 【屏蔽挂机检测】优化，改为函数劫持方式；方糖 SCKEY 编辑方式优化；新功能：忽略金额小于\_\_元的天选；支持参加有粉丝勋章和大航海要求的天选；修复天选时刻中奖后不添加白名单，自动取关白名单内 UP 的 bug；不再自动取关，移动一开始在默认分组内的 UP；新增内置帮助信息（目前只完成了一条）。
>
> ### 5.3 - 5.3.1
>
> 新增【把参与天选时关注的 UP 移到新分组】【取关该分组内的 UP 主】，中奖后【把发起抽奖的 UP 加入白名单】；修复取关时若等待回复会取关得非常慢的问题；修复取关不在白名单内 UP 时把所有关注的 UP 全取关的 bug；方糖推送显示获奖账号。
>
> ### 5.2.4.1
>
> 修改天选时刻上传数据格式，防止出现`您所填写的简介可能涉及不符合相关法律法规和政策的内容，请修改`的情况。
>
> ### 5.2.4
>
> 自动投币支持多 UID；天选/实物中奖后浏览器提示；白名单编辑；新增【再次执行主站任务】按钮（位于其它设置中）；代码优化。
>
> ### 5.2.3.4
>
> 修复方糖推送没有正文的问题。
>
> ### 5.2.3.3
>
> 修复方糖推送失败的问题。
>
> ### 5.2.3.2
>
> 修复自动投币循环检查 UP 前 30 个的视频的 bug；修复自动送礼【优先送礼房间】的顺序会在送礼后颠倒的 bug；优化天选时刻获取粉丝勋章信息的方法，提高效率。
>
> ### 5.2.3.1
>
> 自动发弹幕功能优化。
>
> ### 5.2.3
>
> 新功能：检测到中奖后给发起抽奖的 UP 发一条私信；点击【取关不在白名单内的 UP 主】后会有确认窗口；修复【检测到未中奖后自动取关发起抽奖的 UP】不生效的 bug；添加【隐身入场】的设置；添加【关于】按钮，移除底部链接。
>
> ### 5.2.2
>
> 【检测到未中奖后自动取关发起抽奖的 UP】不会取关在白名单中的 UP。
>
> ### 5.2.1
>
> 从个人简介获取天选数据时能显示所获取数据的最后上传时间（上传者必须使用新版脚本，否则脚本会认为数据格式有误）；修复一些 bug。
>
> ### 5.2
>
> 不再使用 GM 函数 GM_addStyle；日志窗口滚动优化：如果日志按钮旁边有 🚀 图标，点击即可滚动到底部；滚动到底部后会在新日志出现时自动滚动；新功能：检测到未中奖后自动取关发起抽奖的 UP，上传天选数据至直播间个人简介，从个人简介获取天选数据，隐身入场。各小时榜/分区检查优化。
>
> ### 5.1
>
> 新功能：实物/天选中奖后通过方糖推送通知；忽略关键字编辑方式优化；新增按钮点击特效；实物/天选参与抽奖后会追踪获奖情况，若中奖则在日志区域显示金色日志，通过方糖推送通知（如果开启），并在日志右上角显示小红点；修复自动投币的一些 bug；各种运行效率上的优化。
>
> ### 5.0.2
>
> 修复小心心模块的 token 获取问题；修复了单选框设置保存无效的 bug；天选时刻：现在可以参加拥有符合要求粉丝勋章的天选了；取关时也会等待回复。
>
> ### 5.0.1
>
> 天选时刻模块 bug 修复和优化。
>
> ### 5.0
>
> 新增自动参加天选时刻的功能。
>
> ### 4.5.2.1
>
> 代码优化；修复了控制面板和日志窗口可以被拉伸的 bug。
>
> ### 4.5.2
>
> 金宝箱抽奖优化，解决了刷新页面导致等待参加的抽奖被舍弃的问题；金宝箱抽奖【忽略关键字】支持正则表达式；新增金宝箱抽奖【每次检查抽奖数量】设置；金宝箱抽奖日志优化；重复运行检测优化；删除一个无关请求`BAPI.live_user.get_info_in_room`。
>
> ### 4.5.1
>
> 金宝箱抽奖新增忽略关键字功能；UI 细节优化；金宝箱抽奖日志优化。
>
> ### 4.5
>
> 界面优化；新增实物抽奖功能。
>
> ### 4.4.2.4
>
> 小心心模块，直播签到优化。
>
> ### 4.4.2.1 - 4.4.2.3
>
> 修复版本更新导致的变量类型错误。
>
> ### 4.4.2
>
> 尝试修复送礼失败的 bug；优化了自动投币的检测机制（只投了一个币的视频应该再投一个币）；优化了隐藏/显示脚本提示时聊天栏信息的滚动；修复了获取完所有小心心后不停止运行的 bug；修复每日任务可能不运行的 bug。
>
> ### 4.4.1.2
>
> 修复弹幕发送异常的问题（如果是短号要先转成长号）；修复应援团签到 bug；修复了不抽奖也会模拟进入房间的 bug。
>
> ### 4.4.1.1
>
> 尝试解决加载不出控制面板的问题；改变了 layer.css 的加载方式。
>
> ### 4.4.1
>
> 新增自动发定时弹幕功能；调整了弹幕设置-发送时间的填写方法；修复检查小时榜间隔时间无法修改的 bug；删除了领银瓜子宝箱的相关代码。
>
> ### 4.4
>
> 新增自动发弹幕功能；代码细节优化。
>
> ### 4.3
>
> 通过发送心跳包的方式获取小心心；添加屏蔽挂机检测功能；删除了之前的移动端心跳功能；其它细节上的优化。
>
> ### 4.2.2
>
> 增加新选项【立刻点亮勋章】；小心心模块优化。
>
> ### 4.2.2
>
> 增加新选项（参与抽奖，检查小时榜）；剩余礼物 UID 改为自动获取；窗口 UI 细节改进。
>
> ### 4.2.1.2
>
> 修改 layer.js 使其不主动加载 css，避免发出错误请求；自动送礼优化和 bug 修复；修复因同一天过期的小心心不在一组，小心心模块不停止运行的 bug。
>
> ### 4.2.1.1
>
> 修复自动送礼送剩余礼物异常的 bug。
>
> ### 4.2.1
>
> 修复自动送礼不送小心心的 bug；增加购买勋章输入错误提示。
>
> ### 4.2
>
> 控制面板美化；对火狐做了些兼容性调整；运行效率优化；修复挂小心心失效的问题；通过更加规范的方式引入库文件（jsDelivr GitHub commit-specific references）。
>
> ### 4.1.4.1
>
> 上个版本调试完没隐藏小心心窗口，尴尬。赶紧修复。
>
> ### 4.1.4
>
> 再次修复挂小心心失效的问题。（若直接拦截获取直播流的 fetch 请求，则每个窗口只能获取一个小心心。）
>
> ### 4.1.3
>
> 修复因 b 站更新导致的挂小心心失效的问题。
>
> ### 4.1.2
>
> 修复拦截直播流失效的问题；拦截直播流不再拦截当前所在观看的直播。
>
> ### 4.1.1
>
> bug fix：1. 拦截直播流误伤其它脚本请求 2.移除活动入口失效 3.小心心获取完后未关闭 iframe 层窗口
>
> ### 4.1.1
>
> bug fix：1. 拦截直播流误伤其它脚本请求 2.移除活动入口失效 3.小心心获取完后未关闭 iframe 层窗口
>
> ### 4.1
>
> 获取小心心方式改为打开隐形窗口，效率更高更稳定；新增拦截直播流功能，建议与获取小心心配套使用；新增购买勋章功能
>
> ### 4.0.3
>
> 修复在弱网条件下脚本窗口无法加载的问题；修复特殊情况下部分每日任务不运行的问题。
>
> ### 4.0.2
>
> 隐藏窗口和提示信息 bug fix
>
> ### 4.0.1
>
> 界面微调；修复在特殊直播间（如 14917277）一直提示无配置信息的 bug。新功能：脚本会记录用户是否隐藏了窗口和提示信息，下次运行脚本时（包括刷新网页）会根据记录的设置显示/隐藏窗口和提示信息。
>
> ### 4.0
>
> 改名；尝试修复自动送礼的一个 bug。
>
> ### 3.9.1.2
>
> 【小心心】修复标签页计数 bug。
>
> ### 3.9.1.1
>
> 优化小心心模块：优化小心心上限的检测；不重复打开已打开的标签页；关闭（或刷新）脚本运行的直播间后由脚本打开的标签页会被关闭。
> 领银瓜子宝箱验证码错误后延时 150 毫秒再尝试，降低风控概率。
>
> ### 3.9.1
>
> 增加输入项【打开标签页数量上限】防止一下开太多导致浏览器崩溃；增加今日小心心是否全部获取的判定，全部获取后关闭标签页。
>
> ### 3.9
>
> 改为使用后台打开标签页的方式获取小心心；修复点亮勋章和自动送礼的一些小 bug。
>
> ### 3.8.2
>
> 新功能：【间隔\_\_分钟送礼】，【点亮勋章时忽略亲密度上限】。送礼和点亮算法优化。
>
> ### 3.8.1
>
> 送礼算法优化；在获取完所有小心心之前直播间不刷新；pc 心跳 bug 修复。
>
> ### 3.8
>
> 小心心无需通过跳转房间获得，脚本会直接发心跳包。尝试修复暴力猴无法使用的 bug。自动点亮勋章算法优化。
>
> ### 3.7.3
>
> 支持点亮指定勋章，提供了白名单和黑名单两种点亮策略。移动端 token 缓存，若 token 不过期则不会获取，降低登陆频率。
>
> ### 3.7.2.1
>
> 提高获取礼物数据的兼容性，即使失败也能加载备用数据。（顺便测试下 webhook）
>
> ### 3.7.2
>
> 继续尝试修复自动投币在硬币不足时会出错的 bug；礼物到期时间单位由秒改为天；新增提示功能。
> （修复 b 站 api 变化导致的自动送礼的 bug，然后我刚一修好，b 站 api 又改回去了，白忙活。。。）
>
> ### 3.7.1
>
> 尝试修复自动投币在硬币不足时会出错的 bug；修复自动跳转房间重复跳转的 bug；新增内容屏蔽设置。
>
> ### 3.7
>
> 新增小心心模块：可以自动查找勋章列表中正在直播的房间进行跳转获取小心心，检测到当前房间停播后会再次查找。
>
> ### 3.6.2
>
> bug fix；送礼排除礼物策略由黑名单改为白名单。
>
> ### 3.6.1
>
> 增加送礼排除直播间的功能；优化隐藏抽奖信息功能，现在隐藏抽奖信息时会产生不可见的抽奖信息，点击显示即可看到（旧版隐藏时不会记录抽奖信息）；bug fix
>
> ### 3.6
>
> 取消了模拟进入房间概率，改为记录进入过的房间号（上限 100）。若发现进入过了则不会重复进入。修复了自动投币会给 UP 不是指定 UID 用户的联合投稿视频投币的 bug。修复多次获取 APPToken 的 bug。修复回车保存无效的 bug。应援团签到时间改为第二天 8 点。
>
> ### 3.5.5
>
> 修复检查小时榜分区的 bug。投币设置选项优化。支持输入框回车保存。
>
> ### 3.5.4.1
>
> 修复节奏风暴，移动端心跳的一些 bug。
>
> ### 3.5.4
>
> 自动投币可指定给某用户的视频投币。
>
> ### 3.5.3
>
> 修复火狐特有的一个关于正则表达式的 bug。现在支持火狐啦~
>
> ### 3.5.2
>
> 现在可以检查所有分区的小时榜，能参与的抽奖数量大幅增加。
>
> ### 3.5.1
>
> 修复读取统计错误的 bug；修复开启不抽奖时段不刷新直播间后导致的不会刷新页面的 bug；尝试修复多次调用 info 接口导致大会员被封的问题；不再使用 GM_getValue 和 GM_setValue 两个 GM 函数。
>
> ### 3.5
>
> 新增节奏风暴抽奖功能；由于设置太多，现在界面可以上下滚动。重置统计时间更精准，误差在 1 秒内。
>
> ### 3.4
>
> 支持模拟移动端心跳，领双端观看直播奖励。
>
> ### 3.3
>
> 增加剩余礼物送礼功能。修复了包裹内无可送礼物时送礼导致的 bug。聊天区提示及控制台日志优化。
>
> ### 3.2.1
>
> 活跃弹幕池修改；领银瓜子宝箱初始化时间滞后；部分输入支持浮点数
>
> ### 3.2
>
> 运行日志优化，显示时间；定时送礼模块算法优化，更加精确，增加手动立刻送礼功能；再次执行每日任务，重置统计，不会刷新页面；bug fix
>
> ### 3.1.1
>
> bug fix
>
> ### 3.1
>
> 支持自定义送礼时间，取消送礼检查间隔选项。脚本会在指定的一分钟内集中送礼。
>
> ### 3.0.1
>
> 补充脚本内说明;界面调整;更新源换为 jsdelivr。
>
> ### 3.0
>
> 增加自动送礼功能;界面调整，增加脚本内简要说明。
>
> ### 2.6.1
>
> 修复检查小时榜的 bug
>
> ### 2.6
>
> 银瓜子宝箱验证码识别模块优化，提高验证码识别准确率；修复点击显示/隐藏按钮后聊天信息滚动问题；脚本内置检查更新源换为 github;支持自定义检查小时榜间隔
>
> ### 2.5.7
>
> 移除不必要的页面元素，防止遮挡按钮;细节调整
>
> ### 2.5.6
>
> 日常修 bug，解决了动态中无视频时分享视频引起的错误；界面微调。
>
> ### 2.5.5
>
> 修复一些 bug；运行日志更加详细；优化了重复运行检测，减少性能消耗。
>
> ### 2.5.4
>
> 考虑到有时候油猴检查更新功能会失效，增加检查脚本更新的按钮
>
> ### 2.5.3
>
> 解决了禁止重复运行方面的 bug；转移脚本到 GitHub
>
> ### 2.5.2
>
> 界面调整：保存按钮变为全局，重新加入重置统计按钮
>
> ### 2.5.1
>
> 增加银瓜子换硬币功能;界面细节优化。
>
> ### 2.3 - 2.5
>
> 日志丢失
>
> ### 2.2
>
> 加入选项：进黑屋后强制重复抽奖直到成功，最多重试 5 次(危险)；CACHE 优化
>
> ### 2.1.3
>
> 重复运行检测，在一个直播间启用脚本后打开其它直播间不会运行此脚本。
>
> ### 2.1.2
>
> 播放器为 flash 时不自动切换为 html 播放器
>
> ### 2.1.1
>
> 应援团签到细节优化
>
> ### 2.1
>
> 增加自动应援团签到功能;修复了 SC 会遮挡弹幕区上方按钮的 bug;活跃弹幕池修改,去除无意义的句号和空格改为表情;限制活跃弹幕发送概率必须小于 5%
>
> ### 2.0.2
>
> API 源调整,为之后更新做准备
>
> ### 2.0
>
> 新功能:抽奖前有概率在目标房间发送一条活跃弹幕(概率别调太高，b 站限制每秒只能发一条弹幕);jQuery 换源，用 BilibiliAPI_Mod(自制 API，已压缩)代替原 SeaLoong 大佬的 BilibiliAPI,包含更多 B 站 API 及函数(已压缩，加载更快);本脚本也已压缩，提高载入速度;修复部分时段不抽奖输入框写入非常规时间段时脚本无法正确执行的 bug，并增加分钟选项，更加精确(3 分钟一检测，所以实际会有一点误差);细节上的改进;
>
> ### 1.8
>
> 每次抽奖前抽奖模拟一次进入直播间的动作，防检测(所以会产生很多观看历史记录);重新加入亲密度统计(暂时没用);加入银瓜子统计;优化辣条上限检测方法。
>
> ### 1.7.2
>
> 现在上船奖励变为辣条，不再统计亲密度;再次优化了抽奖信息滚动。
>
> ### 1.7.1
>
> 解决了弹幕聊天记录和抽奖信息滚动异常的问题;修复了一个按钮的 css 样式;添加一个脚本图标(辣条)。
>
> ### 1.7
>
> 礼物信息保存到浏览器缓存，出现重复领取的现象大大降低。修复了开启延时会无法抽奖的 bug。
>
> ### 1.6
>
> 更新 css 样式,窗口更好看了。
>
> ### 1.5.3
>
> 随机延迟算法优化：随机延时包括最大和最小值;最大最小值相同时延时固定。
>
> ### 1.0 - 1.5.2
>
> 创建脚本，一些细节上的改动。
